# üéµ Moodify - Aplicaci√≥n de Recomendaci√≥n Musical con IA

> Transforma tus emociones en la playlist perfecta. Moodify analiza tu estado de √°nimo a trav√©s de lenguaje natural y encuentra las listas de reproducci√≥n ideales de Spotify para cualquier sentimiento, en cualquier idioma.

## üåü Caracter√≠sticas

- **ü§ñ An√°lisis de Estado de √Ånimo con IA** - OpenAI GPT-3.5 analiza tu estado emocional
- **üåç Soporte Multiidioma** - Compatible con espa√±ol, ingl√©s, portugu√©s y m√°s
- **üéØ Contexto Cultural Inteligente** - Entiende preferencias musicales culturales y estilos regionales
- **üé® Interfaz Moderna y Hermosa** - Dise√±o limpio y responsivo con gradientes
- **‚ö° Integraci√≥n en Tiempo Real con Spotify** - Busca playlists reales de Spotify o proporciona alternativas inteligentes
- **üîÑ Coincidencia Inteligente de Idiomas** - Las respuestas siempre coinciden con el idioma de entrada

## üèóÔ∏è Resumen de Arquitectura

```mermaid
graph TB
    subgraph "Frontend Layer React TypeScript"
        A["ChatBox Component<br/>Gradient design<br/>Multilingual input<br/>Real-time validation<br/>Send animations"]
        B["PlaylistDisplay Component<br/>Mood analysis cards<br/>Responsive grid<br/>Spotify integration<br/>Language-aware UI"]
        C["API Service<br/>HTTP client<br/>Error handling<br/>Type safety<br/>Request Response mapping"]
    end
    
    subgraph "Backend Layer Node.js Express"
        D["Express Routes<br/>api health<br/>api mood analyze<br/>CORS middleware<br/>Error handling"]
        E["NLP Service<br/>OpenAI integration<br/>Language detection<br/>Cultural context<br/>Search term generation"]
        F["Spotify Service<br/>Client credentials<br/>Playlist search<br/>Mock fallbacks<br/>Language-aware names"]
    end
    
    subgraph "External APIs"
        G["OpenAI GPT-3.5<br/>Emotion analysis<br/>Multilingual support<br/>Cultural intelligence<br/>Context understanding"]
        H["Spotify Web API<br/>Playlist search<br/>Real-time results<br/>Audio previews<br/>Metadata"]
    end
    
    A --> C
    B --> C
    C --> D
    D --> E
    D --> F
    E --> G
    F --> H
    
    B --> I["External Spotify Player"]
    
    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
    style B fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
    style C fill:#764ba2,stroke:#333,stroke-width:2px,color:#fff
    style E fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
    style F fill:#1db954,stroke:#333,stroke-width:2px,color:#fff
    style G fill:#00f2fe,stroke:#333,stroke-width:2px,color:#fff
    style H fill:#1ed760,stroke:#333,stroke-width:2px,color:#fff
```

## üîÑ Flujo Completo del Viaje del Usuario

```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Backend  
    participant OpenAI
    participant Spotify
    
    User->>Frontend: 1. Types emotional message
    Frontend->>Frontend: 2. Input validation and UI feedback
    Frontend->>Backend: 3. POST api mood analyze
    Backend->>OpenAI: 4. AI Mood Analysis Request
    Note over OpenAI: AI Processing Language detection Emotion analysis Context Cultural understanding
    OpenAI->>Backend: 5. Intelligent Response with emotion searchTerms confidence language
    Backend->>Spotify: 6. Search playlists with AI terms Multiple searches
    Spotify->>Backend: 7. Return curated results with metadata
    Backend->>Frontend: 8. Combined JSON response analysis and playlists
    Frontend->>User: 9. Beautiful UI Display Mood confidence Search terms Language Playlist cards
    User->>Spotify: 10. Click Open in Spotify Opens matched playlist
```

## üöÄ Inicio R√°pido

### Prerrequisitos

- Node.js 18+
- npm o yarn
- Clave API de OpenAI
- Cuenta de Desarrollador de Spotify (opcional - tiene respaldo)

### 1. Clonar el Repositorio

```bash
git clone <repository-url>
cd moodify
```

### 2. Configurar Backend

```bash
cd backend
npm install

# Crear archivo .env
echo "OPENAI_API_KEY=tu_clave_openai_aqui" > .env
echo "SPOTIFY_CLIENT_ID=tu_spotify_client_id" >> .env
echo "SPOTIFY_CLIENT_SECRET=tu_spotify_client_secret" >> .env
echo "PORT=3001" >> .env

# Iniciar backend
npm run dev
```

### 3. Configurar Frontend

```bash
cd ../frontend
npm install

# Crear archivo .env
echo "REACT_APP_API_URL=http://localhost:3001/api" > .env

# Iniciar frontend
npm start
```

### 4. Abrir el Navegador

Navega a `http://localhost:3000` ¬°y comienza a expresar tus sentimientos!

## üéØ C√≥mo Usar

### Uso B√°sico

1. **Expresa tu Estado de √Ånimo**: Escribe c√≥mo te sientes en cualquier idioma
   - üá™üá∏ "Estoy muy feliz hoy"
   - üá∫üá∏ "I need to focus and study"
   - üáßüá∑ "Quero relaxar depois do trabalho"

2. **Obt√©n An√°lisis de IA**: Ve tu emoci√≥n y t√©rminos de b√∫squeda inteligentes

3. **Explora Playlists**: Navega listas curadas que coinciden con tu estado de √°nimo

4. **Escucha en Spotify**: Haz clic en cualquier playlist para abrir en Spotify

### Ejemplos Avanzados

```bash
# Motivaci√≥n para ejercicio
"Voy al gimnasio y necesito m√∫sica con mucha energ√≠a"
‚Üí ["m√∫sica de gimnasio", "motivaci√≥n workout", "alta energ√≠a", "fitness"]

# Sesi√≥n de estudio
"Necesito concentrarme para estudiar"
‚Üí ["m√∫sica para estudiar", "concentraci√≥n", "lo-fi", "instrumental"]

# Contexto cultural
"Quiero m√∫sica argentina para una fiesta"
‚Üí ["m√∫sica argentina", "tango", "folklore argentino", "cumbia argentina"]

# Apoyo emocional
"Me siento triste hoy"
‚Üí ["m√∫sica triste", "canciones melanc√≥licas", "playlist emocional", "baladas"]
```

## üîÑ Diagrama de Flujo de Datos

```mermaid
flowchart TD
    A[User Types Message] --> B{Input Validation}
    B -->|Valid| C[Send to Backend]
    B -->|Invalid| D[Show Error Message]
    
    C --> E[NLP Analysis]
    E --> F[Language Detection]
    F --> G[Emotion Analysis]
    G --> H[Generate Search Terms]
    
    H --> I[Spotify Search]
    I --> J{API Available}
    J -->|Yes| K[Real Spotify Results]
    J -->|No| L[Mock Playlist Results]
    
    K --> M[Combine Results]
    L --> M
    M --> N[Filter and Deduplicate]
    N --> O[Format Response]
    O --> P[Display to User]
    
    style E fill:#4facfe
    style I fill:#1db954
    style P fill:#f093fb
```

## üèóÔ∏è Arquitectura T√©cnica Detallada

```mermaid
graph LR
    subgraph "Frontend Architecture"
        A[App.tsx] --> B[ChatBox.tsx]
        A --> C[PlaylistDisplay.tsx]
        
        B --> D[API Service]
        C --> D
        
        D --> E["Types Interfaces<br/>MoodAnalysis<br/>Playlist<br/>ApiResponse"]
        
        B --> F["Styled Components<br/>ChatContainer<br/>InputField<br/>SendButton"]
        
        C --> G["Display Components<br/>MoodAnalysis<br/>PlaylistGrid<br/>PlaylistCard"]
    end
    
    subgraph "Backend Architecture"  
        H[server.ts] --> I[Express Setup]
        I --> J[Middleware Stack]
        J --> K[Routes]
        
        K --> L["api mood analyze"]
        L --> M[nlpService.ts]
        L --> N[spotifyService.ts]
        
        M --> O["OpenAI Client<br/>GPT-3.5-turbo<br/>Language detection<br/>Cultural context"]
        
        N --> P["Spotify Client<br/>Client credentials<br/>Search API<br/>Mock fallbacks"]
        
        Q[Error Handling] --> I
        R[CORS Config] --> I
    end
    
    style M fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
    style N fill:#1db954,stroke:#333,stroke-width:2px,color:#fff
    style O fill:#00f2fe,stroke:#333,stroke-width:2px,color:#fff
    style P fill:#1ed760,stroke:#333,stroke-width:2px,color:#fff
```

## üåç Flujo de Inteligencia Multiidioma

```mermaid
graph TD
    A["User Input<br/>Any Language"] --> B{"Language Detection"}
    
    B -->|Spanish| C["Spanish Context<br/>canciones tristes<br/>musica romantica<br/>reggaeton"]
    
    B -->|English| D["English Context<br/>sad songs<br/>workout music<br/>chill vibes"]
    
    B -->|Portuguese| E["Portuguese Context<br/>musica relaxante<br/>samba<br/>bossa nova"]
    
    B -->|French| F["French Context<br/>musique triste<br/>chansons damour<br/>playlist detente"]
    
    C --> G["Cultural Intelligence"]
    D --> G
    E --> G  
    F --> G
    
    G --> H["Smart Search Terms<br/>Context-aware<br/>Culturally relevant<br/>Activity-specific"]
    
    H --> I["Spotify Search<br/>Multiple term queries<br/>Deduplication<br/>Quality filtering"]
    
    I --> J["Consistent UI Response<br/>Same language as input<br/>Cultural context<br/>Appropriate descriptions"]
    
    style G fill:#f093fb,stroke:#333,stroke-width:2px,color:#fff
    style H fill:#4facfe,stroke:#333,stroke-width:2px,color:#fff
    style I fill:#1db954,stroke:#333,stroke-width:2px,color:#fff
    style J fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
```

## üìã Ejemplos de Uso por Idioma

### Ejemplos en Espa√±ol
```bash
Input: "Estoy muy feliz hoy"
Output: ["m√∫sica alegre", "canciones felices", "pop positivo", "ritmos alegres"]

Input: "Necesito concentrarme para estudiar"
Output: ["m√∫sica para estudiar", "concentraci√≥n", "lo-fi", "instrumental"]

Input: "Me siento nost√°lgico"
Output: ["m√∫sica nost√°lgica", "canciones del recuerdo", "cl√°sicos", "baladas rom√°nticas"]
```

### Ejemplos en Ingl√©s
```bash
Input: "I need workout motivation"
Output: ["workout music", "gym hits", "high energy", "fitness motivation"]

Input: "Feeling sad after breakup"
Output: ["breakup songs", "sad music", "heartbreak playlist", "emotional healing"]

Input: "Want to relax after work"
Output: ["chill music", "relaxing songs", "after work vibes", "calm playlist"]
```

### Ejemplos en Portugu√©s
```bash
Input: "Quero m√∫sica brasileira para festa"
Output: ["m√∫sica brasileira", "festa brasileira", "samba", "pagode"]

Input: "Preciso relaxar"
Output: ["m√∫sica relaxante", "bossa nova", "chill brasileiro", "sons da natureza"]
```

## üåç Soporte de Idiomas

Moodify detecta inteligentemente y responde en tu idioma:

| Idioma | Ejemplo de Entrada | Idioma de Salida |
|--------|-------------------|------------------|
| üá™üá∏ Espa√±ol | "Estoy feliz" | T√©rminos en espa√±ol |
| üá∫üá∏ Ingl√©s | "I'm happy" | T√©rminos en ingl√©s |
| üáßüá∑ Portugu√©s | "Estou feliz" | T√©rminos en portugu√©s |
| üá´üá∑ Franc√©s | "Je suis heureux" | T√©rminos en franc√©s |

## üîß Configuraci√≥n

### Variables de Entorno

#### Backend (.env)
```env
OPENAI_API_KEY=sk-tu-clave-openai
SPOTIFY_CLIENT_ID=tu-spotify-client-id
SPOTIFY_CLIENT_SECRET=tu-spotify-client-secret
PORT=3001
```

#### Frontend (.env)
```env
REACT_APP_API_URL=http://localhost:3001/api
```

### Endpoints de la API

```http
GET  /api/health              # Verificaci√≥n de salud
POST /api/mood/analyze        # An√°lisis de estado de √°nimo + b√∫squeda de playlists
```

## üé® Componentes de la Interfaz

### Caracter√≠sticas del ChatBox
- Dise√±o moderno con gradientes
- Texto de placeholder multiidioma
- Validaci√≥n de entrada en tiempo real
- Animaciones suaves del bot√≥n de env√≠o

### Caracter√≠sticas del PlaylistDisplay
- Tarjetas de an√°lisis de estado de √°nimo con puntuaciones de confianza
- Cuadr√≠cula responsiva de playlists
- Botones de integraci√≥n con Spotify
- Descripciones apropiadas para el idioma

## üöÄ Desarrollo

### Estructura del Proyecto

```
moodify/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nlpService.ts      # Integraci√≥n con OpenAI
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ spotifyService.ts  # API de Spotify
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts           # Configuraci√≥n de rutas
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mood.ts            # Endpoint de an√°lisis de estado de √°nimo
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/            # Manejo de errores
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ server.ts              # Servidor Express
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChatBox.tsx        # Entrada del usuario
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlaylistDisplay.tsx # Visualizaci√≥n de resultados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.ts             # Comunicaci√≥n con backend
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.tsx
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ public/
‚îî‚îÄ‚îÄ README.md
```

### Comandos de Desarrollo

```bash
# Desarrollo del backend
cd backend
npm run dev          # Iniciar con recarga autom√°tica
npm run build        # Compilar TypeScript
npm start           # Iniciar servidor de producci√≥n

# Desarrollo del frontend  
cd frontend
npm start           # Iniciar servidor de desarrollo
npm run build       # Compilar para producci√≥n
npm test           # Ejecutar pruebas
```

## ü§ù Contribuir

1. Haz un fork del repositorio
2. Crea una rama para tu funcionalidad: `git checkout -b feature/funcionalidad-increible`
3. Confirma tus cambios: `git commit -m 'Agregar funcionalidad incre√≠ble'`
4. Empuja a la rama: `git push origin feature/funcionalidad-increible`
5. Abre un Pull Request

## üìù Licencia

Este proyecto est√° licenciado bajo la Licencia MIT - consulta el archivo [LICENSE](LICENSE) para m√°s detalles.

## üôè Reconocimientos

- **OpenAI** por la API GPT-3.5-turbo
- **Spotify** por la API Web
- **React** por el framework frontend
- **Express.js** por el servidor backend

---

**Construido con ‚ù§Ô∏è usando curaci√≥n musical impulsada por IA** 